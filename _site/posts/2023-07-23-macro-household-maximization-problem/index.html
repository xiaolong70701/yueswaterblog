<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-Hans" xml:lang="zh-Hans"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Anthony Sung">
<meta name="dcterms.date" content="2023-07-23">
<meta name="description" content="消費者追求最佳經濟決策與總體經濟學之關聯。">

<title>Yueswater Blog - 總體經濟學中消費者的最適選擇</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../images/favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-VLWNL5QXD8"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-VLWNL5QXD8', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  });
});
</script> 
  

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../css/karat.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Yueswater Blog</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../notes.html" rel="" target="">
 <span class="menu-text">Diary &amp; Notes</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/xiaolong70701" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.facebook.com/yueswater/" rel="" target=""><i class="bi bi-facebook" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.instagram.com/yues_19_water/" rel="" target=""><i class="bi bi-instagram" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of Contents</h2>
   
  <ul>
  <li><a href="#偏好preference" id="toc-偏好preference" class="nav-link active" data-scroll-target="#偏好preference">偏好(Preference)</a>
  <ul class="collapse">
  <li><a href="#偏好的假設" id="toc-偏好的假設" class="nav-link" data-scroll-target="#偏好的假設">偏好的假設</a></li>
  <li><a href="#偏好的特性" id="toc-偏好的特性" class="nav-link" data-scroll-target="#偏好的特性">偏好的特性</a></li>
  </ul></li>
  <li><a href="#效用函數utility-function" id="toc-效用函數utility-function" class="nav-link" data-scroll-target="#效用函數utility-function">效用函數(Utility Function)</a>
  <ul class="collapse">
  <li><a href="#基數性cardinality" id="toc-基數性cardinality" class="nav-link" data-scroll-target="#基數性cardinality">基數性(Cardinality)</a></li>
  <li><a href="#效用函數" id="toc-效用函數" class="nav-link" data-scroll-target="#效用函數">效用函數</a></li>
  <li><a href="#邊際效用marginal-utility" id="toc-邊際效用marginal-utility" class="nav-link" data-scroll-target="#邊際效用marginal-utility">邊際效用(Marginal Utility)</a></li>
  <li><a href="#無異曲線indifference-curve" id="toc-無異曲線indifference-curve" class="nav-link" data-scroll-target="#無異曲線indifference-curve">無異曲線(Indifference Curve)</a></li>
  </ul></li>
  <li><a href="#預算限制budget-constraint" id="toc-預算限制budget-constraint" class="nav-link" data-scroll-target="#預算限制budget-constraint">預算限制(Budget Constraint)</a>
  <ul class="collapse">
  <li><a href="#價格變動change-in-price" id="toc-價格變動change-in-price" class="nav-link" data-scroll-target="#價格變動change-in-price">價格變動(Change in Price)</a></li>
  <li><a href="#所得變化change-in-income" id="toc-所得變化change-in-income" class="nav-link" data-scroll-target="#所得變化change-in-income">所得變化(Change in Income)</a></li>
  <li><a href="#消費者最適選擇consumers-optimal-choice" id="toc-消費者最適選擇consumers-optimal-choice" class="nav-link" data-scroll-target="#消費者最適選擇consumers-optimal-choice">消費者最適選擇(Consumer’s Optimal Choice)</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">消費者的最適選擇</h1>
  <div class="quarto-categories">
    <div class="quarto-category">macroeconomics</div>
  </div>
  </div>

<div>
  <div class="description">
    <p>消費者追求最佳經濟決策與總體經濟學之關聯。</p>
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Anthony Sung </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 23, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>在<a href="https://yueswater-blog.netlify.app/posts/2023-07-22-macro-economy-performance/">衡量經濟表現</a>中提到了如何衡量一國的經濟表現，且我們知道這些指標都是經濟體系中行為者決策的加總。因此，在更深入討論總體經濟理論前，首先我們要從個體的角度出發，探討個體如何在經濟體系中根據其背後的偏好邏輯作出決策。</p>
<p>消費者行為是日常生活中各式各樣的決策。以飲食為例，消費者可以選擇自己在家煮飯或去餐廳用餐。這些決策涉及到食材的健康、餐廳的清潔以及時間等不同的取捨和考量。因此，消費者行為是探討消費者的偏好、面臨的限制條件，以及最適決策的特性，從而刻畫消費行為的研究途徑。</p>
<section id="偏好preference" class="level2">
<h2 class="anchored" data-anchor-id="偏好preference">偏好(Preference)</h2>
<p>所謂偏好，即是消費者對任意兩組商品所做的排序，消費者可以明確指出他到底比較喜歡哪⼀組。給定 <span class="math inline">\(x\)</span> 與 <span class="math inline">\(y\)</span> 兩種商品，我們可以透過數學符號來描述兩者的關係。如 <span class="math inline">\(x \succsim y\)</span>，隱含了</p>
<ul>
<li><p><span class="math inline">\(x\)</span> 比 <span class="math inline">\(y\)</span> 好，或</p></li>
<li><p><span class="math inline">\(x\)</span> 與 <span class="math inline">\(y\)</span> 一樣好</p></li>
</ul>
<p>透過數學符號我們可以簡化文字，且得以更清楚表達不同商品之間的偏好關係。注意到上面的關係為非嚴格偏好(non-strict preference)，若要表達嚴格偏好(strict preference)，我們用 <span class="math inline">\(x \succ y\)</span> 表達，其表達的意思包含 <span class="math inline">\(x \succsim y\)</span> 成立，但 <span class="math inline">\(y \succsim x\)</span> 不成立。此外，我們以 <span class="math inline">\(x \sim y\)</span> 表達兩個商品之間對於個體的偏好是相同的，稱之為無異(indifferent)。</p>
<p>必須提醒的是，上述的「商品」並不一定僅限於零售店、量販店架上會出現的商品，只要任何可以透過選擇來描述的場域，基本上都適用於上述的分析。例如候選人、期末考前讀書分配、該上哪一所大學等。</p>
<section id="偏好的假設" class="level3">
<h3 class="anchored" data-anchor-id="偏好的假設">偏好的假設</h3>
<p>在消費者偏好的假設中，有以下幾個重要特性：</p>
<ol type="1">
<li><p>完整性(completeness)：對於消費者在商品空間中的任意兩點（商品組合），消費者可以進行比較，即能夠判斷兩個商品組合哪個更好，或者至少有一個是他們能夠接受的，即下方三個關係有一個會成立： <span class="math display">\[
x \succsim y \quad x \sim y \quad y \succsim x
\]</span></p></li>
<li><p>遞移性(transitivity)：如果消費者認為商品組合 <span class="math inline">\(x\)</span> 比商品組合 <span class="math inline">\(y\)</span> 更好，且商品組合 <span class="math inline">\(y\)</span> 比商品組合 <span class="math inline">\(z\)</span> 更好，則消費者也會認為商品組合 <span class="math inline">\(x\)</span> 比商品組合 <span class="math inline">\(z\)</span> 更好，即 <span class="math display">\[
x \succsim y, \;y \succsim z, \Rightarrow x \succsim z
\]</span></p></li>
<li><p>反身性(reflexivity)：消費者會接受自己已經擁有的商品組合，即商品組合 <span class="math inline">\(x\)</span> 至少和它自己一樣好，即 <span class="math display">\[
x \succsim x, \forall x
\]</span></p></li>
</ol>
</section>
<section id="偏好的特性" class="level3">
<h3 class="anchored" data-anchor-id="偏好的特性">偏好的特性</h3>
<p>偏好的特性有以下兩個：</p>
<ol type="1">
<li><p>單調遞增性(strong monotonicity)：商品對於消費者而言愈多愈好。也就是說，如果一個商品組合中包含了更多的商品，消費者會覺得這個商品組合更好，不會對此產生厭惡或拒絕。在無窮的欲望空間中，並不存在消費者滿足所有欲望的最大點，因此沒有所謂的「垃圾」。</p></li>
<li><p>凸性偏好(convexity)：如果兩個商品組合都是消費者喜歡的，那麼這兩個商品組合的混合物（線性組合）也是消費者喜歡的。具體來說，如果商品組合 <span class="math inline">\(x\)</span> 和商品組合 <span class="math inline">\(y\)</span> 都被消費者喜歡，即 <span class="math inline">\(x \succsim z\)</span>，且 <span class="math inline">\(y \succsim z\)</span>，那麼在這兩個商品組合之間進行混合： <span class="math display">\[
tx + (1−t)y \succsim z, \; t \in [0, 1]
\]</span> 其所產生的商品組合 <span class="math inline">\(z\)</span> 也會被消費者喜歡。</p></li>
</ol>
<p>這些偏好的特性是經濟學中用來描述消費者對於不同商品組合的喜好和選擇行為的重要工具。它們有助於理解消費者行為的決策過程和消費行為的變化。</p>
</section>
</section>
<section id="效用函數utility-function" class="level2">
<h2 class="anchored" data-anchor-id="效用函數utility-function">效用函數(Utility Function)</h2>
<p>效用函數是一個將不同種商品組合對應到不同數值的函數。它刻畫了一個消費者對商品的偏好(preference)。如果在商品空間中有無窮但可數個商品組合，並且偏好滿足上述假設：完整性、遞移性、反身性等特性，那麼我們可以確保刻畫消費者偏好的效用函數存在。</p>
<section id="基數性cardinality" class="level3">
<h3 class="anchored" data-anchor-id="基數性cardinality">基數性(Cardinality)</h3>
<p>如果一個效用函數刻畫出某一個消費者的偏好，則無論進行何種單調轉換，仍然可以刻劃出這個消費者的偏好。</p>
<p>單調轉換函數是指一種保持單調性（喜好順序不變）的函數。如果效用函數 <span class="math inline">\(u(x)\)</span> 對於商品 <span class="math inline">\(x\)</span> 的偏好程度大於對商品 <span class="math inline">\(y\)</span> 的偏好程度，即 <span class="math display">\[
u(x) &gt; u(y)
\]</span></p>
<p>那麼對 <span class="math inline">\(u(x)\)</span> 進行單調轉換後，其大小關係仍相同，即 <span class="math display">\[
f(u(x)) &gt; f(u(y))
\]</span></p>
<p>由於偏好只有排列次序而沒有排列大小，消費者只在意商品 <span class="math inline">\(x\)</span> 相對於 <span class="math inline">\(y\)</span> 的偏好，而不在意具體數值的大小。因此，進行單調轉換，例如 <span class="math inline">\(f(x) = x + 2\)</span> 或 <span class="math inline">\(f(x) = 2x\)</span>，不會改變消費者的偏好，只會保持相對偏好的順序。</p>
</section>
<section id="效用函數" class="level3">
<h3 class="anchored" data-anchor-id="效用函數">效用函數</h3>
<p>效用函數遵循幾個基本特性：</p>
<ul>
<li><p>遞移性：如果消費者對商品組合 <span class="math inline">\(x\)</span> 的喜好程度優於商品組合 <span class="math inline">\(y\)</span>，即 <span class="math display">\[
u(x) &gt; u(y)
\]</span> 同時商品組合 <span class="math inline">\(y\)</span> 的喜好又優於商品組合 <span class="math inline">\(z\)</span>，即 <span class="math display">\[
u(y) &gt; u(z)
\]</span> 那麼消費者對商品組合 <span class="math inline">\(x\)</span> 的喜好必定優於商品組合z，即 <span class="math inline">\(x \succ z\)</span>。</p></li>
<li><p>反身性：消費者對於任何商品組合都至少和它自己一樣喜好，即 <span class="math display">\[
u(x) \geq u(x)
\]</span></p></li>
<li><p>凸性偏好：。如果商品組合 <span class="math inline">\(x\)</span> 和商品組合 <span class="math inline">\(y\)</span> 都是消費者喜歡的，那麼在這兩個商品組合之間進行混合，即 <span class="math display">\[
tx + (1-t)y, \; t \in [0,1]
\]</span> 產生的商品組合 <span class="math inline">\(tx + (1-t)y\)</span> 也是消費者喜歡的，即 <span class="math display">\[
u(tx + (1-t)y) &gt; u(z)
\]</span></p></li>
</ul>
</section>
<section id="邊際效用marginal-utility" class="level3">
<h3 class="anchored" data-anchor-id="邊際效用marginal-utility">邊際效用(Marginal Utility)</h3>
<p>邊際效用是經濟學中的重要概念，用來衡量消費者對於特定商品的額外滿足程度。考慮兩種商品，蔬菜 <span class="math inline">\(x_{1}\)</span> 和肉品 <span class="math inline">\(x_{2}\)</span>，邊際效用表示當蔬菜或肉品的消費量固定時，增加一單位的另一種商品消費量所帶來的效用變化。</p>
<p>例如，消費者在某一時刻消費了 <span class="math inline">\(x_{2}\)</span> 單位的肉品，邊際效用為 <span class="math display">\[
\text{MU}_{2} = \frac{\Delta u}{\Delta x_{2}}
\]</span></p>
<p>表示增加肉品消費量 <span class="math inline">\(x_{2}\)</span> 單位後，整體效用的變化。</p>
<p>值得注意的是，邊際效用會隨著消費量的增加而遞減。這意味著隨著消費量的增加，每增加一單位的商品消費量所帶來的額外滿足程度逐漸減少。這是因為消費者在滿足基本需求後，對於同一種商品的追求會逐漸減弱，導致邊際效用逐漸降低。</p>
</section>
<section id="無異曲線indifference-curve" class="level3">
<h3 class="anchored" data-anchor-id="無異曲線indifference-curve">無異曲線(Indifference Curve)</h3>
<p>無異曲線又稱為等效用曲線，其是在消費者效用函數中，表示消費者在不同商品組合下，獲得相同滿足程度（效用）的點所形成的曲線。換句話說，無異曲線上的每個點都代表消費者在不同商品組合下所獲得的相同效用值。</p>
<p>我們可以用 <code>Python</code> 繪製無異曲線。假設效用函數為 Cobb-Douglas，即 <span class="math display">\[
u(x,y) = x^{\alpha}y^{1-\alpha}
\]</span> 並給定 <span class="math inline">\(\alpha = 0.5\)</span>。使用 <code>numpy</code> 與 <code>matplotlib</code> 即可繪製：</p>
<div class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 定義效用函數</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> utility(x, y, alpha):</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x<span class="op">**</span>alpha <span class="op">*</span> y<span class="op">**</span>(<span class="dv">1</span><span class="op">-</span>alpha)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 創建網格</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> np.linspace(<span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>X, Y <span class="op">=</span> np.meshgrid(x, y)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># 設定alpha的值</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>alpha <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 計算對應效用值</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>Z <span class="op">=</span> utility(X, Y, alpha)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 繪製無異曲線</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>plt.contour(X, Y, Z, levels<span class="op">=</span>np.linspace(np.<span class="bu">min</span>(Z), np.<span class="bu">max</span>(Z), <span class="dv">10</span>), cmap<span class="op">=</span><span class="st">'viridis'</span>)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'x'</span>)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'y'</span>)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 顯示圖形</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-2-output-1.png" width="593" height="434"></p>
</div>
</div>
<p>而無異曲線具有以下特性：</p>
<ol type="1">
<li><p>向下傾斜(downward sloping)：無異曲線通常向下傾斜，這意味著消費者在不增加總消費成本的情況下，可以通過增加其中一種商品的消費量來補償另一種商品消費量的減少。</p></li>
<li><p>非交叉：無異曲線不會交叉，也就是說不會有兩條無異曲線交叉的情況，因為每條曲線代表不同的效用水準。</p></li>
<li><p>凸向原點：無異曲線通常凸向原點，這是因為邊際替代效應。隨著消費者增加一種商品的消費量，其邊際效用遞減，因此消費者更願意將更多商品投入到邊際效用較高的商品中。在同⼀無異曲線上，隨著的增加，要求消費者以「減少、增加」的⽅式去維持相同的效⽤⽔準，其與的替換比將隨著的增加愈來愈⼩，亦即邊際替代率是遞減的。</p></li>
<li><p>多多益善：隨著效用水平的提高，無異曲線向外擴展，表示消費者更滿足於得到更多的商品。</p></li>
</ol>
<p>無異曲線有另一個重要的概念，稱之為邊際替代率(marginal substitution rate, MRS)，其用於衡量消費者在不同商品之間進行替代時的比率。在無異曲線上的任一點，切線的斜率絕對值即為該點的邊際替代率。表示為：</p>
<p><span class="math display">\[
\text{MRS} = \left\lvert \frac{\Delta x_2}{\Delta x_1} \right\rvert = \left\lvert \frac{MU_1}{MU_2} \right\rvert
\]</span> 其中，<span class="math inline">\(MU_{1}\)</span> 和 <span class="math inline">\(MU_{2}\)</span> 分別代表消費者對於商品 <span class="math inline">\(1\)</span> 和商品 <span class="math inline">\(2\)</span> 的邊際效用，而 <span class="math inline">\(\Delta x_{1}\)</span> 和 <span class="math inline">\(\Delta x_{2}\)</span> 則是對應的消費量變化。邊際替代率表示為正值時，表示消費者願意放棄較多的商品 <span class="math inline">\(2\)</span> 以獲得更多的商品 <span class="math inline">\(1\)</span>；反之，表示消費者願意放棄較多的商品 <span class="math inline">\(1\)</span> 以獲得更多的商品 <span class="math inline">\(2\)</span>。</p>
<p>而邊際替代率遞減法則則反映了一種「非極端」的偏好。當消費者已經擁有許多的某種商品時，他們對該商品的需求會較不希罕，邊際替代率較低。但對於消費量較少的商品，消費者願意花較大的代價去取得，邊際替代率較高。這一法則幫助我們理解消費者在購買不同商品時的行為，並在經濟學中有重要應用。</p>
</section>
</section>
<section id="預算限制budget-constraint" class="level2">
<h2 class="anchored" data-anchor-id="預算限制budget-constraint">預算限制(Budget Constraint)</h2>
<p>預算限制是指消費者在給定的收入和商品價格下，可以購買的商品組合範圍。假設第一種商品的價格為 <span class="math inline">\(p_1\)</span>，第二種商品的價格為 <span class="math inline">\(p_2\)</span>。若消費者購買 <span class="math inline">\(x_1\)</span> 個單位的第一種商品和 <span class="math inline">\(x_2\)</span> 個單位的第二種商品，其總支出為 <span class="math inline">\(p_1x_1 + p_2x_2\)</span>。若消費者的收入為 <span class="math inline">\(I\)</span>，其預算限制可表達為 <span class="math inline">\(p_1x_1 + p_2x_2 \leq I\)</span>。預算限制線的斜率的絕對值是 <span class="math inline">\(p_1/p_2\)</span>，代表的是兩個商品的相對價格比。</p>
<p>在預算限制下，消費者只能購買預算限制線上或位於預算限制線以下的商品組合。預算限制線上的商品組合是消費者所能購買的最大數量的商品組合，而位於預算限制線以下的商品組合則表示超出了消費者的收入能力。因此，預算限制線是預算限制消費者購買商品的界限。消費者可以在預算限制線上做出最優的購買決策，以最大化其效用滿足。</p>
<section id="價格變動change-in-price" class="level3">
<h3 class="anchored" data-anchor-id="價格變動change-in-price">價格變動(Change in Price)</h3>
<p>價格變動對於預算限制式的影響是指當商品的價格發生變化時，消費者所能夠購買的商品組合範圍也會相應地變化。以商品價格上升為例，預算限制式的斜率會隨之改變。假設有兩種商品 <span class="math inline">\(x\)</span> 和 <span class="math inline">\(y\)</span>，其價格分別為 <span class="math inline">\(p_{x}\)</span> 和 <span class="math inline">\(p_{y}\)</span>。原本的預算限制式為 <span class="math display">\[
p_{x}x + p_{y}y = I
\]</span> 其中 <span class="math inline">\(I\)</span> 表示消費者的收入。當 <span class="math inline">\(p_{x}\)</span> 或 <span class="math inline">\(p_{y}\)</span> 其中一種商品的價格上升時，預算限制式的斜率也會相應增加。這意味著消費者所能夠購買的商品組合將會受到影響。預算限制線會向內縮小，其隱含了消費者在新的價格條件下將能夠購買的商品組合範圍會變小。因此，價格變動對預算限制式的影響是使消費者在新的價格條件下重新調整其購買決策。商品價格的變動會影響消費者對不同商品的購買選擇，進而影響其能夠購買的商品組合範圍。</p>
<p>假設 <span class="math inline">\(p_{x} = 1\)</span>，<span class="math inline">\(p_{y} = 2\)</span>，<span class="math inline">\(I = 30\)</span>，若出現一個經濟事件，導致 <span class="math inline">\(p_{x}\)</span> 上升為 <span class="math inline">\(2\)</span>，我們用 <code>Python</code> 繪製預算限制式的變化：</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sympy <span class="im">import</span> <span class="op">*</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 設定數值</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>px1 <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>py1 <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>px2 <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>I <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 清除當前圖片</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 設定圖片寬度</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>plt.xlim(<span class="dv">0</span>, (I<span class="op">/</span>px1) <span class="op">*</span> <span class="fl">1.2</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">0</span>, (I<span class="op">/</span>py1) <span class="op">*</span> <span class="fl">1.2</span>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 建立圖片</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>z1 <span class="op">=</span> np.linspace(<span class="dv">0</span>, (I<span class="op">/</span>px1), <span class="dv">200</span>).reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>z2 <span class="op">=</span> <span class="op">-</span>px1<span class="op">/</span>py1 <span class="op">*</span> z1 <span class="op">+</span> (I<span class="op">/</span>py1)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>z3 <span class="op">=</span> np.linspace(<span class="dv">0</span>, (I<span class="op">/</span>px2), <span class="dv">200</span>).reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="co"># 設定圖例</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>plt.plot(z1, z2,</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>         label<span class="op">=</span><span class="vs">r'$x + 2y = 30$'</span>,</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>         color<span class="op">=</span><span class="st">'Black'</span>)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>plt.plot(z3, z2,</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>         label<span class="op">=</span><span class="vs">r'$2x + 2y = 30$'</span>,</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>         color<span class="op">=</span><span class="st">'Lightgray'</span>)</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'upper right'</span>)</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="co"># 加入 annotation curve</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>x_values <span class="op">=</span> [<span class="dv">14</span>, <span class="fl">18.5</span>]</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>y_values <span class="op">=</span> [<span class="dv">2</span>, <span class="dv">5</span>]</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="st">''</span>,</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>             xy<span class="op">=</span>(x_values[<span class="dv">0</span>], y_values[<span class="dv">0</span>]),  <span class="co"># 起始點</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>             xytext<span class="op">=</span>(x_values[<span class="dv">1</span>], y_values[<span class="dv">1</span>]),  <span class="co"># 終點</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>             arrowprops<span class="op">=</span><span class="bu">dict</span>(arrowstyle<span class="op">=</span><span class="st">'-&gt;'</span>,</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>                             connectionstyle<span class="op">=</span><span class="st">"arc3,rad=-0.2"</span>,</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>                             color<span class="op">=</span><span class="st">'red'</span>),  <span class="co"># 設定箭頭的樣式和顏色</span></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a><span class="co"># 顯示圖片</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plt.subplot(<span class="dv">111</span>)</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>ax.spines[[<span class="st">'right'</span>, <span class="st">'top'</span>]].set_visible(<span class="va">False</span>)  <span class="co"># 移除上邊界與右邊界</span></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>plt.legend(frameon<span class="op">=</span><span class="va">False</span>)  <span class="co"># 移除圖例邊界</span></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-3-output-1.png" width="566" height="416"></p>
</div>
</div>
</section>
<section id="所得變化change-in-income" class="level3">
<h3 class="anchored" data-anchor-id="所得變化change-in-income">所得變化(Change in Income)</h3>
<p>所得變動對預算限制式的影響是指當消費者的收入發生改變時，其所能購買的商品組合範圍也會隨之改變。預算限制式是描述在給定一定收入和商品價格下，消費者可以購買的商品組合的數學表達式，通常以方程式的形式呈現，例如：</p>
<p><span class="math display">\[
p_x \cdot x + p_y \cdot y = I
\]</span></p>
<p>當消費者的收入發生變動時，預算限制式會隨之改變，進而影響消費者所能選擇的商品組合。如果收入增加，這意味著消費者有更多的購買力，可以購買更多的商品。預算限制式的斜率則不變，表示兩種商品的價格比例保持不變，使得預算限制線整體向右上方平行移動；反之，如果收入減少，消費者的購買力減弱，只能購買較少的商品，預算限制線整體向左下方平行移動。</p>
<p>我們延續上述的假設，並假定 <span class="math inline">\(I\)</span> 從 <span class="math inline">\(30\)</span> 上升到 <span class="math inline">\(50\)</span>。我們仍然用 <code>Python</code> 描述所得變動：</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sympy <span class="im">import</span> <span class="op">*</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 設定數值</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>px <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>py <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>I1 <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>I2 <span class="op">=</span> <span class="dv">50</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 清除當前圖片</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>plt.clf()</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="co"># 設定圖片寬度</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>plt.xlim(<span class="dv">0</span>, (I2<span class="op">/</span>px) <span class="op">*</span> <span class="fl">1.2</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">0</span>, (I2<span class="op">/</span>py) <span class="op">*</span> <span class="fl">1.2</span>)</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="co"># 建立圖片</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>z1 <span class="op">=</span> np.linspace(<span class="dv">0</span>, (I1<span class="op">/</span>px), <span class="dv">200</span>).reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>z2 <span class="op">=</span> <span class="op">-</span>px<span class="op">/</span>py <span class="op">*</span> z1 <span class="op">+</span> (I1<span class="op">/</span>py)</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>z3 <span class="op">=</span> np.linspace(<span class="dv">0</span>, (I2<span class="op">/</span>px), <span class="dv">200</span>).reshape(<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>z4 <span class="op">=</span> <span class="op">-</span>px<span class="op">/</span>py <span class="op">*</span> z3 <span class="op">+</span> (I2<span class="op">/</span>py)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="co"># 設定圖例</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>plt.plot(z1, z2,</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>         label<span class="op">=</span><span class="vs">r'$x + 2y = 30$'</span>,</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>         color<span class="op">=</span><span class="st">'Black'</span>)</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>plt.plot(z3, z4,</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>         label<span class="op">=</span><span class="vs">r'$x + 2y = 50$'</span>,</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>         color<span class="op">=</span><span class="st">'Lightgray'</span>)</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'upper right'</span>)</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="co"># 加入 annotation curve</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>x_values <span class="op">=</span> [<span class="dv">20</span>, <span class="dv">15</span>]</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>y_values <span class="op">=</span> [<span class="fl">14.5</span>, <span class="fl">8.5</span>]</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="st">''</span>,</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>             xy<span class="op">=</span>(x_values[<span class="dv">0</span>], y_values[<span class="dv">0</span>]),  <span class="co"># 起始點</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>             xytext<span class="op">=</span>(x_values[<span class="dv">1</span>], y_values[<span class="dv">1</span>]),  <span class="co"># 終點</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>             arrowprops<span class="op">=</span><span class="bu">dict</span>(arrowstyle<span class="op">=</span><span class="st">'-&gt;'</span>,</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>                             color<span class="op">=</span><span class="st">'red'</span>),  <span class="co"># 設定箭頭的樣式和顏色</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>             )</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a><span class="co"># 顯示圖片</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plt.subplot(<span class="dv">111</span>)</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>ax.spines[[<span class="st">'right'</span>, <span class="st">'top'</span>]].set_visible(<span class="va">False</span>)  <span class="co"># 移除上邊界與右邊界</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>plt.legend(frameon<span class="op">=</span><span class="va">False</span>)  <span class="co"># 移除圖例邊界</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-4-output-1.png" width="575" height="416"></p>
</div>
</div>
</section>
<section id="消費者最適選擇consumers-optimal-choice" class="level3">
<h3 class="anchored" data-anchor-id="消費者最適選擇consumers-optimal-choice">消費者最適選擇(Consumer’s Optimal Choice)</h3>
<p>在可負擔得起的商品組合中，消費者希望找到能使其效用最大化的點，也就是我們常聽到的「資源有限，慾望無窮」。在預算限制下，消費者面臨著一個效用最大化的問題，即追求在預算限制內，選擇一個使得其效用最大的商品組合。</p>
<p>假設消費者的效用水準超出了其預算限制，表示該消費者無法負擔得起這個效用水準，因為超出了其收入範圍。而效用水準D對應的商品組合雖然可負擔得起，但效用不夠高，尚未達到最大化效用的程度。</p>
<p>因此，消費者會選擇落在預算限制內的可負擔得起的商品組合，並根據無異曲線來做出最佳選擇。無異曲線是表示在不同效用水準下消費者所選擇的商品組合的曲線。消費者會不斷地從無異曲線上不斷往右上方推進，直到無異曲線與預算限制線相切為止。</p>
<p>當無異曲線與預算限制線相切時，這個點即為消費者效用最大化的點。在這個點上，消費者所能購買的商品組合既在預算限制內，又使得效用達到最大化，因此這是消費者最理想的選擇。這個點的坐標即為消費者在預算限制下選擇的最佳商品組合。</p>
<p>我們可以用 <code>Python</code> 來繪製消費者最適選擇<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>。</p>
<div class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sympy <span class="im">import</span> <span class="op">*</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 設定數值</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>I <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>a <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>x1,x2,k <span class="op">=</span> symbols(<span class="st">'x1,x2,k'</span>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 建立效用函數</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> (x1<span class="op">**</span>(a))<span class="op">*</span>(x2<span class="op">**</span>(<span class="dv">1</span><span class="op">-</span>a))</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 建立預算限制式</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> p1<span class="op">*</span>x1 <span class="op">+</span> p2<span class="op">*</span>x2 <span class="op">-</span> I</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co"># 建立 Lagragian equation</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>L <span class="op">=</span> f<span class="op">-</span>k<span class="op">*</span>g</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="co"># 求導</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>dx1 <span class="op">=</span> diff(L, x1)</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>dx2 <span class="op">=</span> diff(L,x2)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>dk <span class="op">=</span> diff(L,k)</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="co"># 求解</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> solve([dx1,dx2,dk],[x1,x2,k])   </span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>x1 <span class="op">=</span> m[<span class="dv">0</span>][<span class="dv">0</span>]</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>x2 <span class="op">=</span> m[<span class="dv">0</span>][<span class="dv">1</span>]</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>k <span class="op">=</span> m[<span class="dv">0</span>][<span class="dv">2</span>]</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>f2 <span class="op">=</span> (x1<span class="op">**</span>(a))<span class="op">*</span>(x2<span class="op">**</span>(<span class="dv">1</span><span class="op">-</span>a))</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="co"># 繪圖</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>plt.clf() <span class="co"># 清除先前的圖片</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a><span class="co"># 設定 x, y 軸</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="vs">r"$x_</span><span class="sc">{1}</span><span class="vs">$"</span>,fontsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="vs">r"$x_</span><span class="sc">{2}</span><span class="vs">$"</span>,fontsize<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a><span class="co"># 設定圖片寬度</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>plt.xlim(<span class="dv">0</span>,(I<span class="op">/</span>p1)<span class="op">*</span><span class="fl">1.2</span>)</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>plt.ylim(<span class="dv">0</span>,(I<span class="op">/</span>p2)<span class="op">*</span><span class="fl">1.2</span>)</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a><span class="co"># 建立圖片</span></span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>z1<span class="op">=</span>np.linspace(<span class="dv">0</span>,(I<span class="op">/</span>p1),<span class="dv">200</span>).reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>) </span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>z2<span class="op">=-</span>p1<span class="op">/</span>p2<span class="op">*</span>z1<span class="op">+</span>(I<span class="op">/</span>p2)</span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>z3<span class="op">=</span>np.linspace(<span class="fl">0.1</span>,(I<span class="op">/</span>p1),<span class="dv">200</span>).reshape(<span class="op">-</span><span class="dv">1</span>,<span class="dv">1</span>) </span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>z4<span class="op">=</span>(f2<span class="op">/</span>z3<span class="op">**</span>a)<span class="op">**</span>(<span class="dv">1</span><span class="op">/</span>(<span class="dv">1</span><span class="op">-</span>a))</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a><span class="co"># 標註文字</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$\frac</span><span class="sc">{I}</span><span class="vs">{p_</span><span class="sc">{x}</span><span class="vs">}$'</span>, </span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>             xy <span class="op">=</span> (<span class="dv">30</span>, <span class="dv">0</span>), </span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>             xytext<span class="op">=</span>(<span class="dv">30</span>, <span class="dv">1</span>),</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>             fontsize <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="vs">r'$\frac</span><span class="sc">{I}</span><span class="vs">{p_</span><span class="sc">{y}</span><span class="vs">}$'</span>, </span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>             xy <span class="op">=</span> (<span class="dv">0</span>, <span class="dv">15</span>), </span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>             xytext<span class="op">=</span>(<span class="dv">1</span>, <span class="dv">16</span>),</span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>             fontsize <span class="op">=</span> <span class="dv">12</span>)</span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>plt.annotate(<span class="st">'Optimal solution'</span>, </span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>             xy <span class="op">=</span> (<span class="dv">15</span>, <span class="fl">7.5</span>), </span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>             xytext<span class="op">=</span>(<span class="fl">15.5</span>, <span class="dv">8</span>),</span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>             fontsize <span class="op">=</span> <span class="dv">9</span>)</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a><span class="co"># 設定圖例</span></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>plt.plot(z1,z2,</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>         label <span class="op">=</span> <span class="st">'Budget Constraint'</span>,</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>         color <span class="op">=</span> <span class="st">'Black'</span>)</span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>plt.plot(z3,z4,</span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>         label <span class="op">=</span> <span class="st">'Utility Function'</span>,</span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>         color <span class="op">=</span> <span class="st">'Gray'</span>)</span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'upper right'</span>)</span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a><span class="co"># 建立最適點</span></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>plt.scatter(x1,x2, color <span class="op">=</span> <span class="st">"red"</span>)</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a><span class="co"># 顯示圖片</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plt.subplot(<span class="dv">111</span>)</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>ax.spines[[<span class="st">'right'</span>, <span class="st">'top'</span>]].set_visible(<span class="va">False</span>) <span class="co"># 移除上邊界與右邊界</span></span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>plt.legend(frameon<span class="op">=</span><span class="va">False</span>) <span class="co"># 移除圖例邊界</span></span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<p><img src="index_files/figure-html/cell-5-output-1.png" width="585" height="434"></p>
</div>
</div>
<p>對於「消費者的最適選擇發⽣在無異曲線與預算線相切之處」直觀一點的解釋是，由於邊際替代率等於相對價格比，其為消費者對與的主觀取捨，而價格比則是市場上對與的客觀評價，因此消費者的最適選擇便是主觀取捨與市場上的客觀評價相⼀致之結果。</p>
<p>數學上我們稱消費者的最適選擇為一個最適化問題(optimization problem)，一般來說我們多用 Lagragian equation 作為計算途徑。我們的極大化問題可以寫成以下的形式：</p>
<p><span class="math display">\[
\begin{aligned}
\max_{x_{1}, \cdots, x_{n}}&amp; \; U(x_{1}, \cdots, x_{n})\\
\operatorname{s.t. }&amp;\; p_{1}x_{1} + \cdots + p_{n}x_{n} \leq I
\end{aligned}
\]</span> 其中<span class="math inline">\(p_{k}\)</span>代表商品<span class="math inline">\(k\)</span>的價格，<span class="math inline">\(I\)</span>代表消費者的收入，都以元或某種計價單位表示。Lagragian multiplier<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>：</p>
<p><span class="math display">\[
\mathscr{L} = U(x_{1}, x_{2}, \cdots, x_{n}) + \lambda(I - p_{1}x_{1} - p_{2}x_{2} - \cdots - p_{n}x_{n})
\]</span></p>
<p>這個內部最大值的標準一階條件為：</p>
<p><span class="math display">\[
\begin{aligned}
&amp; \frac{\partial \mathscr{L}}{\partial x_{k}} = \frac{\partial U}{\partial x_{k}} - \lambda p_{k} \overset{*}{=} 0, \; \forall k\\
&amp; \frac{\partial \mathscr{L}}{\partial \lambda} = I - p_{1}x_{1} - p_{2}x_{2} - \cdots - p_{n}x_{n} \overset{*}{=} 0
\end{aligned}
\]</span> 請注意，<span class="math inline">\(\lambda\)</span>可以解釋為收入邊際效用，並且必為正。一階條件意味著 <span class="math display">\[
\frac{MU_{i}}{MU_{j}} = \operatorname{MRS} = \frac{p_{i}}{p_{j}}
\]</span> 這個方程背後的直觀解釋即是上述所述，消費者將心理上的折衷率等同於市場的相對價格。</p>


</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>程式碼參考並改編自<a href="https://zhuanlan.zhihu.com/p/436449335">python与微观经济学，效用最大化、支出最小化和斯勒茨基替代效应</a>。<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Lagragian multiplier 僅適用於內部解。<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Reuse</h2><div id="quarto-reuse" class="quarto-appendix-contents"><div><a rel="license" href="https://creativecommons.org/licenses/by/4.0/">https://creativecommons.org/licenses/by/4.0/</a></div></div></section><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{sung2023,
  author = {Sung, Anthony},
  title = {總體經濟學中消費者的最適選擇},
  date = {2023-07-23},
  url = {https://yueswater-blog.netlify.app/posts/2023-07-23-macro-household-maximization-problem/},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-sung2023" class="csl-entry quarto-appendix-citeas" role="listitem">
Sung, Anthony. 2023. <span>“總體經濟學中消費者的最適選擇.”</span> July
23, 2023. <a href="https://yueswater-blog.netlify.app/posts/2023-07-23-macro-household-maximization-problem/">https://yueswater-blog.netlify.app/posts/2023-07-23-macro-household-maximization-problem/</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<script src="https://giscus.app/client.js" data-repo="xiaolong70701/quarto-blog" data-repo-id="R_kgDOJhS1Eg" data-category="General" data-category-id="" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="light" data-lang="en" crossorigin="anonymous" async="">
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Copyright © 2023 Anthony. All rights reserved. See <a href="../copyright.html">statements</a>.</div>   
    <div class="nav-footer-center"><div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/xiaolong70701">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.facebook.com/yueswater/">
      <i class="bi bi-facebook" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.instagram.com/yues_19_water/">
      <i class="bi bi-instagram" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>